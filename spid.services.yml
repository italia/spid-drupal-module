services:
  logger.channel.spid:
    parent: logger.channel_base
    arguments: ['spid']
  spid.saml:
    class: Drupal\spid\SamlService
    arguments: ['@externalauth.externalauth', '@config.factory', '@entity_type.manager', '@logger.channel.spid', '@event_dispatcher', '@plugin.manager.spid_idp', '@session]
  spid.event_subscriber.user_sync:
    class: Drupal\spid\EventSubscriber\UserSyncEventSubscriber
    arguments: ['@config.factory', '@entity_type.manager', '@typed_data_manager', '@email.validator', '@logger.channel.spid']
    tags:
      - {name: event_subscriber}
  plugin.manager.spid_idp:
    class: Drupal\spid\IdpPluginManager
    parent: default_plugin_manager
